document.addEventListener("DOMContentLoaded",(function(){let e=document.documentElement.getBoundingClientRect().width;window.addEventListener("resize",(function(){e=document.documentElement.getBoundingClientRect().width}));function t(e,t){if(void 0!==e.__mask)return e.__mask;if("radio"===e.type){if(!e.required)return!!e.value.length;let i=document.querySelectorAll('input[type="radio"][name="'+e.name+'"]');t&&t instanceof HTMLElement&&(i=t.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));for(var a=0;a<i.length;a++)if(i[a].checked)return!!i[a].value.length;return!1}return"checkbox"===e.type?!e.required||e.checked:"email"===e.type?e.validity.patternMismatch?e.validity.valid:!(0===e.value.length||!e.validity.valid)||!(e.required||!e.validity.valid):"number"===e.type?e.validity.patternMismatch?e.validity.valid:0!==e.value.length&&!e.validity.badInput||!e.required&&!e.validity.badInput:e.validity.patternMismatch?e.validity.valid:!!e.value.length}function a(e){setTimeout((function(){$(e).fadeOut(500)}),150),m(e.id,"close"),$(e).find("iframe").length&&i[$(e).find(".video__frame")[0].id].pauseVideo()}!function e(){document.querySelectorAll(".slider").forEach(e=>{const t=e.querySelector(".slider-init");let a={slidesPerView:1,spaceBetween:25,watchOverflow:!0,simulateTouch:!1,navigation:{nextEl:e.querySelector(".slider-button-next"),prevEl:e.querySelector(".slider-button-prev")},pagination:{el:e.querySelector(".slider-pagination"),type:"bullets",clickable:!0},lazy:{loadPrevNext:!0,loadPrevNextAmount:2}};if(e.dataset.config){let l=e.dataset.config.split(",");i="addClassGrid-lg",n=()=>{window.screen.width>=1024?(a=!1,$(t.querySelector("[data-wrapper]")).addClass("grid"),$(t.querySelector("[data-wrapper]")).removeClass("swiper-wrapper"),$(t.querySelectorAll("[data-slide]")).removeClass("swiper-slide"),$(t).removeClass("swiper-container")):($(t.querySelector("[data-wrapper]")).removeClass("grid"),$(t.querySelector("[data-wrapper]")).addClass("swiper-wrapper"),$(t.querySelectorAll("[data-slide]")).addClass("swiper-slide"),$(t).addClass("swiper-container"))},l.find(e=>e.trim()==i)&&n()}var i,n;t.swiper&&(t.querySelector("[data-wrapper]")&&t.querySelector("[data-wrapper]").removeAttribute("style"),t.querySelectorAll("[data-slide]")&&t.querySelectorAll("[data-slide]").forEach(e=>e.removeAttribute("style")),t.swiper.detachEvents(),t.swiper.destroy()),a&&new Swiper(t,a)}),window.addEventListener("resize",e)}(),$(".modal__close").click((function(){a($(this).parents(".modal")[0])})),$(".modal").mouseup((function(e){const t=$(this).find(".modal-target");0==$(this).data("modal-target")||t.is(e.target)||0!==t.has(e.target).length||a(this)})),window.addEventListener("keyup",e=>{if("Escape"===e.key&&u()){const e=document.getElementById(s[s.length-1]);$(e).hasClass("modal")&&a(e)}}),$("[data-modal-open]").on("click",(function(){let e=$(this);return function(e,t){const a=document.getElementById(e);$("#"+e).fadeIn(500),setTimeout(()=>m(e),500),t&&t(e,a)}(this.dataset.modalOpen,(function(t,a){if("modal-video"==t){let t=e.data("video-src")||$(a).find(".video__frame").data("video-src");$(a).find("iframe.video__frame").length?i[$(a).find(".video__frame").attr("id")].loadVideoById({videoId:t}):o($(a).find(".video__frame").attr("id"),t)}e.data("modal-title")?($(".modal [data-modal-title]").text(e.data("modal-title")),$(".modal .form-input-title").val("Pop-Up: "+e.data("modal-title"))):($(".modal [data-modal-title]").text($(".modal [data-modal-title]").data("modal-title")),$(".modal .form-input-title").val("Pop-Up: "+$(".modal [data-modal-title]").data("modal-title"))),e.data("info")?$("#input-info").val(e.data("info")):$("#input-info").val("")})),!1})),$(".questions-item__header").on("click",(function(){"accordion"===$(this).parents(".questions").data("questions")?$(this).parent().hasClass("_active")?($(this).next().slideUp(250),$(this).parent().removeClass("_active")):($(this).parents(".questions").find(".questions-item").children(".questions-item__body").slideUp(250),$(this).parents(".questions").find(".questions-item").children(".questions-item__header").removeClass("_active"),$(this).parents(".questions").find(".questions-item").removeClass("_active"),$(this).next().slideDown(250),$(this).parent().addClass("_active")):($(this).next().slideToggle(250),$(this).parent().toggleClass("_active"))}));let i=[],n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";let l=document.getElementsByTagName("script")[0];function o(e,t){i[e]=new YT.Player(e,{height:"100%",width:"100%",videoId:t,events:{onReady:function(e){e.target.playVideo()}}})}var d;l.parentNode.insertBefore(n,l),d=".video__btn",$(d).off("click"),$(d).click((function(){$(this).parent(".video").addClass("_active");let e=$(this).data("video-src"),t=$(this).data("video-src")+"-"+Math.floor(990001*Math.random()+1e4);$(this).parent(".video").find(".video__frame").attr("id",t),o(t,e)})),document.querySelectorAll(".tab")&&document.querySelectorAll(".tab").forEach(e=>{const t=e.querySelectorAll(".tab__btn"),a=e.querySelectorAll(".tab__box");let i,n;t.forEach((t,l)=>{0===l&&($(t).addClass("_active"),$(a[0]).removeClass("m:hide"),i=t,n=l),e._activeIndex=n,$(t).click((function(t){i!==t.delegateTarget&&($(i).removeClass("_active"),$(a[n]).addClass("m:hide"),i=t.delegateTarget,n=l,e._activeIndex=l,$(i).addClass("_active"),$(a[l]).removeClass("m:hide"))}))})}),$("[data-toggle]").each((e,t)=>{!function(e){if(e.__toggle)return;if(e.__toggle=!0,e.dataset.toggle.includes(";")){e.dataset.toggle.split(";").forEach(e=>{t(e=e.split(","))})}else{t(e.dataset.toggle.split(","))}function t(t){const a=$(e).parents("[data-toggle-wrapper]").length?$(e).parents("[data-toggle-wrapper]").find(`[data-toggle-box="${t[0].trim()}"]`):$(`[data-toggle-box="${t[0].trim()}"]`),i=t[1]||"toggle",n=t[2]||400,l=t[3]||null;if(a.length){$(e).click((function(){r[i.trim()](a,n),l&&$(e).toggleClass(l)}))}}}(t)});const r={toggle:(e,t)=>e.toggle(),show:(e,t)=>e.show(),hide:(e,t)=>e.hide(),fadeIn:(e,t)=>e.fadeIn(Number(t)),fadeOut:(e,t)=>e.fadeOut(Number(t)),fadeToggle:(e,t)=>e.fadeToggle(Number(t)),slideDown:(e,t)=>e.slideDown(Number(t)),slideUp:(e,t)=>e.slideUp(Number(t)),slideToggle:(e,t)=>e.slideToggle(Number(t)),addClass:(e,t)=>e.addClass(t),removeClass:(e,t)=>e.removeClass(t),toggleClass:(e,t)=>e.toggleClass(t)};$(".scroll").click((function(){var e=$(this).attr("href");return $("html, body").animate({scrollTop:$(e).offset().top+parseInt($(e).css("padding-top"))-20+"px"}),!1}));let s=[],c=document.createElement("style");function u(e,t){return"open"==t?s.push(e):"close"==t&&s.splice(s.indexOf(e),1),s.length}function m(e,t){u(e,t||"open"),1===s.length&&(document.body.style.overflow="hidden",document.querySelectorAll("[data-scroll-trigger]").forEach(e=>{e.classList.add("scroll-offset")})),0===s.length&&(document.body.style.overflow="",document.querySelectorAll("[data-scroll-trigger]").forEach(e=>{e.classList.remove("scroll-offset")}))}function f(e){let t=[];for(let a=0;a<e.files.length;a++)t[a]=e.files[a].name;$(e).parent().attr("title",t.toString()),$(e).parents(".form-file").find(".form-file__quantity").children(".form-file__number").text(e.files.length),$(e).parents(".form-file").find(".form-file__quantity").addClass("_active")}if(c.innerHTML=".scroll-offset { padding-right:"+(window.innerWidth-e)+"px;}",document.getElementsByTagName("head")[0].appendChild(c),document.querySelectorAll("[data-scroll-trigger]").forEach(e=>{e.classList.remove("scroll-offset")}),$("[data-mask]").each((e,t)=>{$(t).mask(t.dataset.mask)}),$('.js-form button[type="submit"]').click((function(e){$(this).parents("form").find(":input[name]").each((function(e,t){t.required&&$(t).trigger("inputRequired")}))})),$("[data-input]").each((e,a)=>{!function(e,a){if(e.__input)return;e.__input=!0;const i=a?$(a):$(e);$(e).on("change focus",t=>{e.required&&i.removeClass("_required"),i.removeClass("_error _"+e.type)}),$(e).on("inputRequired",n=>{e.required&&!t(e,a)&&i.addClass("_required")}),$(e).on("focusout",n=>{e.required?void 0===e.__mask||e.__mask?0===e.value.length?i.addClass("_required"):t(e,a)||i.addClass("_error _"+e.type):setTimeout((function(){i.addClass("_required")}),0):t(e,a)||void 0!==e.__mask&&!e.__mask||0===e.value.length||i.addClass("_error _"+e.type)})}(a,!!$(a).parents("[data-input-box]").length&&$(a).parents("[data-input-box]")[0])}),$(".form-file__input").change((function(){f(this)})),$(".form-file__input").each((function(e,t){t.files.length>=1&&f(t)})),$(".js-form").submit((function(){const e=$(this);e.find("button").prop("disabled",!0),e.find(".form-send__message").fadeIn(350);const t=new FormData;return e.find(":input[name]").each((function(e,a){if("file"==a.type&&a.multiple){let i=a.files;for(e=0;e<i.length;e++)t.append("files[]",i[e])}else if("file"==a.type)t.append($(a).attr("name"),$(a).prop("files")[0]);else if("radio"==a.type&&"checkbox"==a.type){let e=$(this);a.checked&&t.append(e.attr("name"),e.val())}else{let e=$(this);e.val()&&t.append(e.attr("name"),e.val())}})),$.ajax({url:this.attributes.action?this.attributes.action.value:"form/form.php",type:"POST",data:t,contentType:!1,cache:!1,processData:!1,success:function(t){e.find(".form-send__loading").hide(),e.find(".form-send__success").show(),e.trigger("reset"),setTimeout((function(){e.find(".form-send__message").fadeOut()}),3500),e.find("button").prop("disabled",!1)},error:function(t,a,i){e.find(".form-send__loading").hide(),e.find(".form-send__error").show(),setTimeout((function(){e.find(".form-send__message").fadeOut()}),3500),e.find("button").prop("disabled",!1)}}),!1})),"loading"in HTMLImageElement.prototype){document.querySelectorAll("img.lazy").forEach(e=>{e.src=e.dataset.src})}else{(new LazyLoad).update()}let p=!1;$("#menu-modal-open").on("click",(function(){$("#menu-modal").fadeToggle(),$(this).toggleClass("_active"),$("html, body").animate({scrollTop:0},0),p?(p=!1,m("menu-modal-open","close")):(p=!0,m("menu-modal-open"))})),$(".menu-modal__link.scroll").click((function(){$("#menu-modal").fadeOut(),$("#menu-modal-open").removeClass("_active"),m("menu-modal-open","close"),p=!1})),setTimeout((function(){}),1e3),(new WOW).init()}));